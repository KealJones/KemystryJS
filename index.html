<!DOCTYPE html>
<html>
<head>
<title>Page Title</title>
</head>
<body>

<div data-kemy="size:1/12 do:key,show">I show when active</div>
<div data-kemy="size:1/12 do:key,hide">I hide when active</div>
<div data-kemy="size:1/3 do:key,toggle">LEARN MORE</div>
<div data-kemy="size:1/12 do:key,a2">I hide and appear on toggle 1</div>



<div data-kemy="size:1/3 tog:2,parent pu:t,20px">Toggle 2</div>
<div data-kemy="size:1/2 tog:2 ex: mu:20px">I hide and appear on toggle 2</div>
<script src="src/Kemystry.js"></script>
<script>
Kemystry.beaker({
    // Simple Kemycal for Size Utility
    symbol: 'size',
    procedures: {
        act: function(){
            var fraction = this.state().split('/');
            this.physical({'width':(fraction[0]/fraction[1])*100+'%'});
        }
    }
});

Kemystry.beaker({
    // Terrible Example of extentisve properties and content commands
    symbol: 'ex',
    react_on:['mouseover','mouseout'],
    extensive: { default_styles:{'background-color':'white','font-family':'sans-serif','cursor':'pointer'}},
    procedures: {
        act: function(){
            this.physical(this.extensive('default_styles'));
            this.extensive('default_content',this.tube().content());
        },
        react: function(event) {
            switch(event){
                case 'mouseover':
                    this.physical({'background-color':'green','font-family':'Comic Sans MS'});
                    this.content('GROSS.');
                break;
                case 'mouseout':
                    this.physical(this.extensive('default_styles'));
                    this.content(this.extensive('default_content'));
                break;
            }
        }
    }
});

Kemystry.beaker({
    // Simple Kemycal for Padding Utility
    symbol: 'u',
    extensive: {'t':'-top','b':'-bottom','l':'-left','r':'-right','a':''},
    procedures: {
        act: function(){
            var state = this.state();
                var physicalObj = {};
                var property = 'padding';
                var amount = '';
            if (state instanceof Array){
                if (this.extensive().hasOwnProperty(state[0])){
                    property += this.extensive(state[0]);
                } 
                if (state.hasOwnProperty(1)){
                    amount = state[1];
                }    
            } else {
                amount = state;
            }

            physicalObj[property] = amount;

            this.physical(physicalObj);
        }
    }
});

Kemystry.beaker({
    // Simple Kemycal for Padding Utility
    symbol: 'mu',
    extensive: {'t':'-top','b':'-bottom','l':'-left','r':'-right','a':''},
    procedures: {
        act: function(){
            var state = this.state();
                var physicalObj = {};
                var property = 'margin';
                var amount = '';
            if (state instanceof Array){
                if (this.extensive().hasOwnProperty(state[0])){
                    property += this.extensive(state[0]);
                } 
                if (state.hasOwnProperty(1)){
                    amount = state[1];
                }    
            } else {
                amount = state;
            }

            physicalObj[property] = amount;

            this.physical(physicalObj);
        }
    }
});

Kemystry.beaker({
    // Simple Kemycal for Quick Click Toggles
    symbol: 'do',
    react_on:['click'],
    extensive: { 
        'close_content':'CLOSE',
        'action':{
            'show':{
                0:{
                    'display':'none'
                },
                1:{
                    'display':'block'
                }
            },
            'hide':{
                0:{
                    'display':'block'
                },
                1:{
                    'display':'none'
                }
            },
            'toggle':{
                0:{
                    'user-select': 'none'
                },
                1:{
                    'user-select': 'none'
                }
            }
        }
    },
    procedures: {
        act: function(){
            var state = this.state();
            if (!(state instanceof Array)){
                return;
            }
            var key = state[0],
            action = state[1],
            active = state[2];

            if (active == null){
                this.state([key,action,0]);
                active = 0;
            }

            var actionProps = this.extensive('action');
            if (actionProps[action] != null && actionProps[action][active] != null){
                this.physical(actionProps[action][active]);
            }
            if (action == 'toggle'){
                this.extensive('default_content',this.tube().content());
            }
        },
        react: function(event) {
            var state = this.state();
            if (!(state instanceof Array)){
                return;
            }
            var key = state[0],
            action = state[1],
            active = state[2];

            if (active == 1){ 
                this.state([key,action,0]);
                active = 0; 
            } else {
                this.state([key,action,1]);
                active = 1;
            }
            var actionProps = this.extensive('action');
            if (actionProps[action] != null && actionProps[action][active] != null){
                this.physical(actionProps[action][active]);
            }
            
            if (action == 'toggle'){
                this.others().each(function(kemycal){
                    var state = kemycal.state();
                    var key = state[0],
                        action = state[1],
                        active = state[2];

                    if(key == this.state()[0]){
                            var actionProps = kemycal.extensive('action');
                            kemycal.state([key,action,this.state()[2]]);
                            active = this.state()[2];
                            var actionProps = kemycal.extensive('action');
                            if (actionProps[action] != null && actionProps[action][active] != null){
                                kemycal.physical(actionProps[action][active]);
                            }
                    }
                }.bind(this));
                if (active == 0) {
                    this.content(this.extensive('default_content'));
                } else {
                    this.content(this.extensive('close_content'));
                }
            } 
        }
    }
  });
Kemystry.beaker('do').prep({'action':{
            'a2':{
                0:{
                    'background-color':'blue'
                },
                1:{
                    'background-color':'black'
                }
            }}});

Kemystry.beaker({
    // Simple Kemycal for Quick Click Toggles
    symbol: 'lt',
    react_on:['click'],
    procedures: {
        act: function(){
            var state = this.state();
            if (!(state instanceof Array)){
                this.state([state,'hidden']);
            }
            this.physical({'cursor':'pointer'});
                if (this.state()[1] != 'parent'){
                    this.physical({'display':'none'});
                }
        },
        react: function(event) {
            if (this.state()[1] == 'parent'){
                this.others().each(function(kemycal){
                    var state = kemycal.state();
                    if(state[0] == this.state()[0]){
                        if (state[1] == 'hidden'){
                            kemycal.physical({'display':'block'});
                            kemycal.state([state[0],'visable']);
                        } else {
                            kemycal.physical({'display':'none'});
                            kemycal.state([state[0],'hidden']);
                        }

                    }
                }.bind(this));
            }
        }
    }
});
</script>
</body>
</html>